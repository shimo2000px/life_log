<% content_for(:title, '日記投稿') %>
<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-lg-12">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="fade-in-up diary-title">新しい日記を書く</h1>
        <%= link_to '← 一覧に戻る', posts_path, class: 'btn btn-outline-secondary' %>
      </div>
      
      <div class="row">
        <!-- フォーム部分 -->
        <div class="col-lg-8">
          <div class="card mb-4 fade-in-up">
            <div class="card-body">
              <%= form_with model: @post, local: true do |f| %>
                <!-- エラーメッセージ表示 -->
                <% if @post.errors.any? %>
                  <div class="alert alert-danger">
                    <h5><i class="fas fa-exclamation-triangle"></i> 入力内容を確認してください</h5>
                    <ul class="mb-0">
                      <% @post.errors.full_messages.each do |message| %>
                        <li><%= message %></li>
                      <% end %>
                    </ul>
                  </div>
                <% end %>
                <!-- 日付入力 -->
                  <div class="mb-3">
                    <%= f.label :diary_date, "日記の日付", class: "form-label" %>
                    <%= f.date_field :diary_date, class: "form-control", value: Date.current %>
                  </div>
                <!-- タイトル入力 -->
                <div class="mb-4">
                  <%= f.label :title, 'タイトル', class: 'form-label fw-bold' %>
                  <%= f.text_field :title, 
                      class: 'form-control form-control-lg', 
                      placeholder: '例：充実した一日 / 〇〇に挑戦！ / 今日の振り返り' %>
                </div>
                
                <!-- 内容 -->
                <div class="mb-4">
                  <%= f.label :body, '内容', class: 'form-label fw-bold' %>
                  <%= f.text_area :body, 
                      class: 'form-control', 
                      rows: 12, 
                      placeholder: '自分の感情や出来事を書き出すことで、ストレスを軽減し、精神的安定につながると言われています。' %>
                </div>
                
                <!-- 送信ボタン -->
                <div class="d-flex justify-content-between">
                  <%= f.submit '投稿する', class: 'btn btn-primary btn-lg' %>
                  <%= link_to 'キャンセル', posts_path, class: 'btn btn-secondary' %>
                </div>
              <% end %>
            </div>
          </div>
        </div>

<link rel="stylesheet" href="/diary_components.css">

<div class="col-lg-4">
  <div class="card border-0 shadow-sm mb-4 rounded-3">
      <!-- ヒントカード：今日の出来事 -->
      <div class="hint-item thought mb-0 p-4 rounded fade-in-up">
        <div class="d-flex align-items-start">
          <div class="hint-icon me-3">
            <span class="badge bg-primary rounded-circle p-2">💭</span>
          </div>
          <div>
            <h6 class="text-primary fw-bold mb-1">今日はどんな出来事がありましたか？</h6>
            <p class="small text-muted mb-0">大きなことでも小さなことでも、印象に残ったことを書いてみましょう。</p>
          </div>
        </div>
      </div>
      
      <!-- ヒントカード：感情 -->
      <div class="hint-item emotion mb-0 p-4 rounded fade-in-up">
        <div class="d-flex align-items-start">
          <div class="hint-icon me-3">
            <span class="badge bg-success rounded-circle p-2">😊</span>
          </div>
          <div>
            <h6 class="text-success fw-bold mb-1">今の感情は？</h6>
            <p class="small text-muted mb-0">嬉しい、悲しい、疲れた...どんな気持ちでも大丈夫です。</p>
          </div>
        </div>
      </div>
      
      <!-- ヒントカード：頑張ったこと -->
      <div class="hint-item effort mb-0 p-4 rounded fade-in-up">
        <div class="d-flex align-items-start">
          <div class="hint-icon me-3">
            <span class="badge bg-warning rounded-circle p-2">🔥</span>
          </div>
          <div>
            <h6 class="text-warning fw-bold mb-1">何を頑張りましたか？</h6>
            <p class="small text-muted mb-0">朝早く起きた、会社へ向かった。小さな努力や挑戦も立派な頑張りです。</p>
          </div>
        </div>
      </div>
      
      <!-- ヒントカード：新しい発見 -->
      <div class="hint-item discovery mb-0 p-4 rounded fade-in-up">
        <div class="d-flex align-items-start">
          <div class="hint-icon me-3">
            <span class="badge bg-danger rounded-circle p-2">🌟</span>
          </div>
          <div>
            <h6 class="text-danger fw-bold mb-1">新しい発見や学びは？</h6>
            <p class="small text-muted mb-0">いつもの日常の中にも新しい気づきがあるかもしれません。</p>
          </div>
        </div>
      </div>
  </div>
  
  <!-- メッセージカード -->
  <div class="card border-0 shadow-sm mb-4 fade-in-up">
    <div class="card-body text-center p-4 message-card-body">
      <div class="mb-3">
        <i class="fas fa-heart text-white" style="font-size: 2rem;"></i>
      </div>
      <h6 class="text-white fw-bold mb-4">💝 いいねの秘密</h6>
      <p class="text-white-50 small mb-0">
        自分の感情を素直に書き出すと<br>
        たくさんいいねがつくかも、、、✨✨ </p>
    </div>
  </div>
</div>